{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { hri } from 'human-readable-ids';\nimport { Button, StyledInput, FlexColumn, FlexContainer } from './StyledComponents';\nimport { socket } from '../constants/websocket';\nconst FormContainer = styled.div.withConfig({\n  displayName: \"Create__FormContainer\",\n  componentId: \"sc-1xf6e0b-0\"\n})([\"padding:40px;padding-top:30px;display:flex;flex-direction:column;text-align:center;\"]);\nconst CheckBoxContainer = styled.div.withConfig({\n  displayName: \"Create__CheckBoxContainer\",\n  componentId: \"sc-1xf6e0b-1\"\n})([\"margin:0 20px 20px 0;\"]);\n\nconst Create = ({\n  cancel,\n  setGameData,\n  setGamePlaying\n}) => {\n  const {\n    0: name,\n    1: setName\n  } = useState('');\n  const {\n    0: rounds,\n    1: setRounds\n  } = useState(\"5\");\n  const {\n    0: scoringType,\n    1: setScoringType\n  } = useState(\"ai\");\n  const {\n    0: categories,\n    1: setCategories\n  } = useState({\n    Name: true,\n    Place: true,\n    Animal: true,\n    Thing: true,\n    Songs: false,\n    Movies: false,\n    \"TV shows\": false,\n    Fruits: false,\n    Vegetables: false,\n    Books: false,\n    Subjects: false,\n    Celebrities: false,\n    Musicians: false,\n    Instruments: false\n  }); // Monzo easter egg\n\n  useEffect(() => {\n    if (name === \"Monzo\") {\n      setCategories(Object.assign({}, categories, {\n        \"Office Dog Breeds\": false,\n        \"Meeting Rooms\": false,\n        \"Badge Types\": false,\n        \"Activity Types\": false,\n        \"Engineers\": false,\n        \"Data Scientists\": false\n      }));\n    }\n  }, [name]);\n  const categoriesArray = Object.keys(categories);\n  const options = [\"5\", \"7\", \"10\"];\n  const gameData = {\n    name,\n    isAdmin: true\n  };\n\n  const handleCreateGame = code => {\n    let cats = [];\n    categoriesArray.forEach(cat => {\n      if (categories[cat]) cats.push(cat);\n    });\n    socket.emit('create', {\n      name,\n      code,\n      rounds,\n      categories: cats,\n      scoringType\n    }, ({\n      error,\n      users\n    }) => {\n      if (error) {\n        alert(error);\n      } else {\n        gameData.code = code;\n        gameData.users = users;\n        gameData.maxRounds = Number(rounds);\n        gameData.categories = cats;\n        setGameData(gameData);\n        setGamePlaying(true);\n      }\n    });\n  };\n\n  let disabled = !name || !checkAtleastOneSelected(categoriesArray, categories);\n  return __jsx(FormContainer, null, __jsx(\"form\", null, __jsx(FlexColumn, null, __jsx(\"p\", null, __jsx(\"label\", {\n    htmlFor: \"name\"\n  }, \"Your Name:\"), __jsx(StyledInput, {\n    maxLength: \"15\",\n    name: \"name\",\n    type: \"text\",\n    onChange: event => setName(event.target.value)\n  })), __jsx(\"h2\", null, \"Select number of rounds:\"), __jsx(FlexContainer, null, options.map(option => __jsx(CheckBoxContainer, {\n    key: option\n  }, __jsx(\"input\", {\n    type: \"radio\",\n    id: option,\n    name: \"rounds\",\n    value: option,\n    onChange: event => setRounds(event.target.value),\n    checked: rounds === option\n  }), __jsx(\"label\", {\n    htmlFor: option\n  }, option)))), __jsx(\"h2\", null, \"Select categories:\"), __jsx(FlexContainer, {\n    style: {\n      maxWidth: \"450px\"\n    }\n  }, categoriesArray.map(cat => __jsx(CheckBoxContainer, {\n    key: cat\n  }, __jsx(\"input\", {\n    type: \"checkbox\",\n    id: cat,\n    name: \"categories\",\n    onChange: event => {\n      setCategories(Object.assign({}, categories, {\n        [cat]: event.target.checked\n      }));\n    },\n    checked: categories[cat]\n  }), __jsx(\"label\", {\n    htmlFor: cat\n  }, cat)))), __jsx(\"h2\", null, \"Scoring Rules:\"), __jsx(FlexContainer, null, __jsx(CheckBoxContainer, null, __jsx(\"input\", {\n    type: \"radio\",\n    id: \"cross\",\n    name: \"scoring\",\n    value: \"cross\",\n    onChange: event => setScoringType(event.target.value),\n    checked: scoringType === \"cross\"\n  }), __jsx(\"label\", {\n    htmlFor: \"cross\"\n  }, \"Score Each Other\")), __jsx(CheckBoxContainer, {\n    key: \"self\"\n  }, __jsx(\"input\", {\n    type: \"radio\",\n    id: \"self\",\n    name: \"scoring\",\n    value: \"self\",\n    onChange: event => setScoringType(event.target.value),\n    checked: scoringType === \"self\"\n  }), __jsx(\"label\", {\n    htmlFor: \"self\"\n  }, \"Score Yourself\")), __jsx(CheckBoxContainer, {\n    key: \"ai\"\n  }, __jsx(\"input\", {\n    type: \"radio\",\n    id: \"ai\",\n    name: \"scoring\",\n    value: \"ai\",\n    onChange: event => setScoringType(event.target.value),\n    checked: scoringType === \"ai\"\n  }), __jsx(\"label\", {\n    htmlFor: \"ai\"\n  }, \"Score by AI\"))), __jsx(Button, {\n    disabled: disabled,\n    fontSize: \"25px\",\n    padding: \"15px\",\n    minWidth: \"220px\",\n    onClick: event => {\n      event.preventDefault();\n      let code = hri.random();\n      handleCreateGame(code);\n    }\n  }, \"Create Room\")), __jsx(Button, {\n    fontSize: \"25px\",\n    padding: \"15px\",\n    minWidth: \"220px\",\n    onClick: () => cancel()\n  }, \"Cancel\")));\n};\n\nconst checkAtleastOneSelected = (categoriesList, categories) => {\n  let enableButton = false;\n  categoriesList.forEach(category => {\n    if (categories[category]) {\n      enableButton = true;\n    }\n  });\n  return enableButton;\n};\n\nexport default Create;","map":null,"metadata":{},"sourceType":"module"}